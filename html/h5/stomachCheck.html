<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>医疗质控系统</title>
    <script src="../js/websocket-client.js"></script>
    <script src="../js/data.js"></script>
    <script src="../js/prohibit.js"></script>
    <link rel="stylesheet" href="../css/stomach.css">
</head>

<body>
    <div class="container">
        <div class="top-content">
            <div class="header-box">
                <img src="../image/stomachCheck/qca.png" alt="logo" width="48" height="48">
                <span class="title">质控区域</span>
            </div>
            <div class="main-content">
                <div class="left">
                    <div class="timeBox">
                        <div class="label">手术时间</div>
                        <div class="time examinationTotalDuration">00:00:00</div>
                    </div>
                    <?xml version="1.0" encoding="UTF-8"?>
                    <svg id="stomach-svg" data-name="图层 1" width="270" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 1012.94 881.51">
                        <defs>
                            <style>
                                .cls-255,
                                .cls-256 {
                                    fill: #FFFFFF;
                                }

                                .cls-256 {
                                    stroke: #000;
                                    stroke-miterlimit: 10;
                                    stroke-width: 2px;
                                }

                                .cls-257 {
                                    fill: #0f1528
                                }
                            </style>
                        </defs>
                        <path class="cls-257"
                            d="M143.34,445.75h-75.92V0h939v197.89c-4.39-77.16-46.57-140.67-117.52-171.76-113.36-49.68-244.48-16.05-356.74,19.58-144.09,45.73-263.36,107.48-345.28,239.22-22.22,35.73-41.57,77.32-44.54,119.85h-71.42l-1.5,1.5v35.98c1.52,1.78,3.23,2.26,5.47,2.52,18.69,2.18,48.65.74,68.45.98h0Z" />
                        <path
                            d="M1006.42,197.89v17.99l-4.49,30.99c-20.45,98.78-85.36,118.5-169.58,150.16l-16.74,7.74h95.4l1.5,1.5v35.98l-2.95,2.05c-58.7,1.39-117.62-.29-176.38.43-1.69.02-4.44-.64-5.48,1.02H143.34c-19.8-.24-49.75,1.2-68.45-.98-2.25-.26-3.95-.74-5.47-2.52v-35.98l1.5-1.5h71.42c2.97-42.53,22.32-84.12,44.54-119.85,81.92-131.73,201.19-193.48,345.28-239.21,112.26-35.63,243.38-69.26,356.74-19.58,70.94,31.09,113.12,94.6,117.52,171.76ZM814.62,8.99c-21.47-4.69-43.51-5.4-65.48-5.04l-54.46,5.48-.98,82.07.48,2.51,120.44,4.93V8.99ZM690.76,9.99c-37.91,4.99-75.42,14.14-111.88,25.49-3.59,1.12-7.85,2.03-10.99,4v74.46l122.87-18.99V9.99ZM817.62,9.99v88.45l2.5,1.5c59.69,6.54,141.76,52.61,152.06,116.71,8.8,54.73-38.96,114.37-79.74,145.54-8.68,6.63-18.01,12.25-26.87,18.58,21.7-8.45,45.66-18.69,65.6-30.8,62.45-37.94,82-123.4,65.97-191.27-20.52-86.85-94.08-137.55-179.52-148.71h0ZM564.89,39.98c-43.46,11.96-86.25,26.6-127.4,44.93l.55,70c41.31-15.13,82.92-29.58,125.73-40.11,0,0,1.12-74.82,1.12-74.82ZM434.03,86.95c-42.96,17.36-84.86,38.42-121.87,66.46v62.47c24.55-12.5,48.61-26.11,73.56-37.84,16.17-7.6,32.75-14.48,49.31-21.18.04-.68-1-1.2-1-1.44v-68.46h0ZM814.63,101.94l-119.93-4.57.04,83.54c40.38-3.45,80.81-2.1,120.88,4l-.99-82.96h0ZM690.76,97.94l-122.77,19.09-1.11,74.86,63.44-7.99,61.43-3-1-82.96h.01ZM817.62,397.77c55.84-16.74,111.63-61.85,138.37-113.91,43.57-84.83-26.63-152.35-104.19-173.64-8.01-2.2-25.12-7.26-32.68-7.32-2.51-.02-1.67,4.55-1.55,6.58.16,2.8,1,5.32,1.09,7.9.74,22.78-.65,45.71-.03,68.49,13.48,1.58,26.73,4.93,39.72,8.74,9.39,2.75,26.33,7.56,33.67,13.28,27.68,21.58,28.9,63.56,14.48,93.18l-88.88,96.68v.02ZM563.89,117.93c-42.73,11.18-85.35,23.84-125.87,41.48v68.46l125.87-35.48v-74.46ZM309.16,218.88v-62.96c-31.8,23.55-61.37,52.37-85.87,83.5-2.44,3.1-19.02,24.33-19.02,25.94v21.49c29.94-29.44,68.45-47.96,104.89-67.96h0ZM435.03,160.91c-20.22,6.86-40.04,15.84-59.3,25.13-18.16,8.76-39.18,19.17-56.25,29.67-3.14,1.93-6.93,2.92-7.38,6.61-1.21,9.97-.71,31.64.02,42.07.18,2.53,1.07,4.91,1.05,7.46,39.53-17.21,80.69-30.28,121.86-42.98v-67.96ZM695.75,280.85c24.38-2.73,47.99-5.22,72.18.75l46.72-13.22.54-79.55c-22.67-4.75-45.91-5.2-68.95-6.97l-51.49,2.04,1,96.96h0ZM691.76,184.9c-22.78-.02-45.73.8-68.42,3-15.58,1.51-36.73,3.59-51.67,7.27-1.76.43-3.54.7-4.78,2.22v91.45c41.42-4.88,83.17-6.68,124.87-8v-95.95h0ZM818.62,188.89v77.46l1.45,1.26c32.07-4.68,61.12,7.13,83.96,29.21,15.58-27.65,9.37-77.21-22.22-90.69-19.4-8.28-42.57-12.87-63.2-17.23h0ZM563.89,196.89c-42.77,7.69-84.3,21.56-125.41,34.94l.54,74,124.87-16.99v-91.95h0ZM309.16,273.85v-51.97c-35.97,21.2-76.89,38.62-104.89,70.46v30.48l104.89-48.97ZM435.03,232.87c-41.23,12.58-82.87,25.07-121.87,43.48v49.47l121.87-18.99v-73.96h0ZM812.64,396.78l88.42-94.95.02-3.01c-13.54-11.4-27.92-22.48-45.65-26.31-6.88-1.49-17.35-2.76-24.35-2.72-19,.13-37.73,10.08-56.4,13.06l20.99,9.47c24.6,13.13,34.09,49.78,27.21,75.24-2.62,9.7-7.4,19.54-10.24,29.23h0ZM201.28,290.34v-19.49c-5.26,5.22-9.46,12.63-13.4,19.07-16.32,26.68-30.03,55.87-37.56,86.35l23.19-45.76c3.88-6.41,7.78-12.79,11.97-19,2.2-3.26,15.51-19.84,15.8-21.17ZM204.27,327.32v24.49l105.45-25.93-1.07-48.04-104.38,49.48ZM695.75,283.84v119.43l1.5,1.5h27.47c-6.02-38.95,2.43-78.15,28-108.41,3.7-4.38,8.6-7.82,11.96-12.51-23.07-5.28-45.77-2.65-68.93-.01h0ZM566.89,404.77h125.87l-.99-120.94c-40.87.27-81.58,3.83-122.38,7l-2.05.94-.44,113h-.01ZM805.48,404.61c2.54-1.6,16.53-43.11,17.01-48.43,1.46-16.13-6.53-42.83-18.36-54.34-5.21-5.07-29.38-17.68-35.73-15.83-3.74,1.09-19.33,20.61-22.11,24.91-18.04,27.88-22.74,59.47-18.42,92.21l.79,1.21,76.83.27h-.01ZM439.02,308.83v94.45l1.5,1.5h122.37l1-112.94-124.87,16.99h0ZM201.28,324.32v-27.48c-9.26,9.23-17.04,21.45-23.78,32.67-10,16.65-18.63,34.44-25.18,52.76l13.02-19.95c12.24-12.39,21.31-28.13,35.94-38ZM313.16,329.32v73.96l1.5,1.5h121.37v-92.45c0-4.27-9.99-1.73-13.34-1.36-29.83,3.35-62.17,8.7-91.73,14.16-2.96.55-17.29,2.62-17.8,4.18h0ZM201.28,352.3v-23.49c-2.57,1.9-5.24,3.7-7.52,5.97-14.42,14.4-31.75,36.21-40.29,54.63-1.91,4.12-3.65,8.54-5.14,12.84l9.01-6.97,43.94-42.99h0ZM310.16,329.82c-35.32,6.96-70.58,14.67-104.9,25.47v49.49h104.9v-74.96h0ZM201.28,404.77v-47.97l-49.95,47.97h49.95ZM142.34,407.77h-69.93v32.98h69.93v-32.98ZM201.28,407.77h-54.94l-1,32.98h56.94l-1-32.98ZM310.16,407.77h-104.89v32.98h104.89v-32.98ZM436.03,407.77h-122.87l1,32.98h121.87v-32.98ZM562.89,407.77h-123.87l1,32.98h122.87v-32.98ZM692.75,407.77h-125.87v32.98h125.87v-32.98ZM725.72,407.77h-29.97l1,32.98h28.97v-32.98ZM805.63,407.77h-76.92v32.98h76.92v-32.98ZM909.52,407.77h-100.89v32.98h100.89v-32.98Z" />
                        <path class="cls-257"
                            d="M1006.42,215.88v229.87h-278.7c1.04-1.66,3.79-1,5.48-1.02,58.76-.73,117.68.95,176.38-.43l2.95-2.05v-35.98l-1.5-1.5h-95.4l16.74-7.74c84.21-31.66,149.13-51.38,169.58-150.16l4.49-30.99h-.02Z" />
                        <path class="cls-256 cls-6"
                            d="M817.62,9.99c85.43,11.16,159,61.86,179.52,148.71,16.03,67.87-3.52,153.33-65.97,191.27-19.94,12.11-43.91,22.35-65.6,30.8,8.86-6.34,18.19-11.95,26.87-18.58,40.78-31.16,88.54-90.81,79.74-145.54-10.3-64.1-92.37-110.17-152.06-116.71l-2.5-1.5V9.99Z" />
                        <path class="cls-255 cls-12"
                            d="M817.62,397.77l88.88-96.68c14.42-29.62,13.2-71.6-14.48-93.18-7.35-5.73-24.28-10.53-33.67-13.28-12.98-3.81-26.24-7.15-39.72-8.74-.61-22.78.78-45.72.03-68.49-.08-2.58-.92-5.1-1.09-7.9-.12-2.03-.95-6.6,1.55-6.58,7.55.06,24.67,5.12,32.68,7.32,77.56,21.29,147.77,88.81,104.19,173.64-26.74,52.06-82.54,97.17-138.37,113.91v-.02Z" />
                        <path class="cls-256 cls-22"
                            d="M566.89,404.77l.44-113,2.05-.94c40.8-3.17,81.51-6.73,122.38-7l.99,120.94h-125.87.01Z" />
                        <polygon class="cls-255 cls-21"
                            points="439.02 308.83 563.89 291.83 562.89 404.77 440.52 404.77 439.02 403.28 439.02 308.83" />
                        <path class="cls-255 cls-16"
                            d="M691.76,184.9v95.95c-41.7,1.32-83.45,3.11-124.87,8v-91.45c1.24-1.52,3.02-1.78,4.78-2.22,14.94-3.68,36.09-5.76,51.67-7.27,22.69-2.2,45.64-3.03,68.42-3h0Z" />
                        <path class="cls-256 cls-17"
                            d="M695.75,280.85l-1-96.96,51.49-2.04c23.04,1.77,46.28,2.22,68.95,6.97l-.54,79.55-46.72,13.22c-24.19-5.97-47.8-3.48-72.18-.75h0Z" />
                        <path class="cls-256 cls-5"
                            d="M814.62,8.99v89.95l-120.44-4.93-.48-2.51.98-82.07,54.46-5.48c21.97-.35,44.01.36,65.48,5.04Z" />
                        <path class="cls-255 cls-20"
                            d="M313.16,329.32c.51-1.56,14.84-3.64,17.8-4.18,29.56-5.46,61.9-10.82,91.73-14.16,3.35-.38,13.34-2.91,13.34,1.36v92.45h-121.37l-1.5-1.5v-73.96h0Z" />
                        <path class="cls-256 cls-15"
                            d="M563.89,196.89v91.95l-124.87,16.99-.54-74c41.11-13.38,82.64-27.25,125.41-34.94h0Z" />
                        <path class="cls-255 cls-4"
                            d="M690.76,9.99v84.95l-122.87,18.99V39.48c3.14-1.96,7.4-2.88,10.99-4,36.46-11.35,73.96-20.5,111.88-25.49Z" />
                        <path class="cls-255 cls-11"
                            d="M814.63,101.94l.99,82.96c-40.07-6.1-80.5-7.44-120.88-4l-.04-83.54,119.93,4.57h0Z" />
                        <polygon class="cls-255 cls-10"
                            points="690.76 97.94 691.76 180.9 630.33 183.91 566.88 191.9 567.99 117.03 690.76 97.94" />
                        <path class="cls-255 cls-3"
                            d="M564.89,39.98l-1.12,74.82c-42.81,10.53-84.42,24.98-125.73,40.11l-.55-70c41.15-18.33,83.94-32.97,127.4-44.93Z" />
                        <path class="cls-255 cls-9"
                            d="M563.89,117.93v74.46l-125.87,35.48v-68.46c40.51-17.64,83.13-30.29,125.87-41.48Z" />
                        <path class="cls-255 cls-23"
                            d="M805.48,404.61l-76.83-.27-.79-1.21c-4.31-32.74.38-64.33,18.42-92.21,2.78-4.3,18.37-23.82,22.11-24.91,6.36-1.85,30.52,10.76,35.73,15.83,11.82,11.51,19.82,38.22,18.36,54.34-.48,5.32-14.47,46.83-17.01,48.43h.01Z" />
                        <path class="cls-255 cls-2"
                            d="M434.03,86.95v68.46c0,.25,1.04.76,1,1.44-16.56,6.7-33.13,13.58-49.31,21.18-24.96,11.73-49.01,25.34-73.56,37.84v-62.47c37.01-28.05,78.91-49.11,121.87-66.46h0Z" />
                        <path class="cls-255 cls-14"
                            d="M435.03,232.87v73.96l-121.87,18.99v-49.47c39.01-18.41,80.64-30.9,121.87-43.48h0Z" />
                        <path class="cls-255 cls-8"
                            d="M435.03,160.91v67.96c-41.17,12.7-82.33,25.76-121.86,42.98.03-2.54-.87-4.92-1.05-7.46-.73-10.43-1.22-32.1-.02-42.07.45-3.69,4.23-4.68,7.38-6.61,17.08-10.5,38.1-20.9,56.25-29.67,19.25-9.29,39.07-18.27,59.3-25.13Z" />
                        <path class="cls-255 cls-19"
                            d="M310.16,329.82v74.96h-104.89v-49.49c34.31-10.8,69.57-18.51,104.89-25.47Z" />
                        <path class="cls-255 cls-18"
                            d="M818.62,188.89c20.63,4.36,43.79,8.95,63.2,17.23,31.58,13.48,37.79,63.04,22.22,90.69-22.84-22.08-51.89-33.88-83.96-29.21l-1.45-1.26v-77.46h0Z" />
                        <path class="cls-255 cls-24"
                            d="M812.64,396.78c2.84-9.68,7.61-19.52,10.24-29.23,6.88-25.45-2.61-62.11-27.21-75.24l-20.99-9.47c18.67-2.98,37.4-12.94,56.4-13.06,7-.05,17.47,1.23,24.35,2.72,17.73,3.83,32.11,14.91,45.65,26.31l-.02,3.01-88.42,94.95h0Z" />
                        <path class="cls-255 cls-7"
                            d="M309.16,273.85l-104.89,48.97v-30.48c28-31.84,68.92-49.26,104.89-70.46v51.97Z" />
                        <path class="cls-255  cls-1"
                            d="M309.16,218.88c-36.44,20.01-74.95,38.53-104.89,67.96v-21.49c0-1.61,16.58-22.84,19.02-25.94,24.5-31.12,54.07-59.94,85.87-83.5v62.96h0Z" />
                        <path class="cls-255"
                            d="M695.75,283.84c23.16-2.64,45.86-5.27,68.93.01-3.36,4.69-8.26,8.13-11.96,12.51-25.57,30.26-34.02,69.46-28,108.41h-27.47l-1.5-1.5v-119.43h0Z" />
                        <rect class="cls-255 cls-29" x="566.89" y="407.77" width="125.87" height="32.98" />
                        <polygon class="cls-255 cls-28"
                            points="562.89 407.77 562.89 440.75 440.02 440.75 439.02 407.77 562.89 407.77" />
                        <polygon class="cls-255 cls-27"
                            points="436.03 407.77 436.03 440.75 314.16 440.75 313.16 407.77 436.03 407.77" />
                        <polygon class="cls-255 cls-13"
                            points="204.27 327.32 308.65 277.83 309.72 325.88 204.27 351.8 204.27 327.32" />
                        <rect class="cls-255 cls-26" x="205.27" y="407.77" width="104.89" height="32.98" />
                        <rect class="cls-255 cls-31" x="808.63" y="407.77" width="100.89" height="32.98" />
                        <rect class="cls-255 cls-30" x="728.72" y="407.77" width="76.92" height="32.98" />
                        <rect class="cls-255 cls-63" x="72.41" y="407.77" width="69.93" height="32.98" />
                        <rect class="cls-255  cls-64" x="72.41" y="442.86" width="69.93" height="30.87" />
                        <polygon class="cls-255 cls-25"
                            points="201.28 407.77 202.28 440.75 145.34 440.75 146.34 407.77 201.28 407.77" />
                        <polygon class="cls-255 cls-65"
                            points="201.28 404.77 151.33 404.77 201.28 356.8 201.28 404.77" />
                        <path class="cls-255 cls-67"
                            d="M201.28,352.3l-43.94,42.99-9.01,6.97c1.49-4.3,3.23-8.72,5.14-12.84,8.54-18.42,25.88-40.24,40.29-54.63,2.28-2.27,4.95-4.07,7.52-5.97v23.49h0Z" />
                        <polygon class="cls-255"
                            points="725.72 407.77 725.72 440.75 696.75 440.75 695.75 407.77 725.72 407.77" />
                        <path class="cls-255 cls-67"
                            d="M201.28,324.32c-14.63,9.87-23.7,25.6-35.94,38l-13.02,19.95c6.55-18.32,15.18-36.11,25.18-52.76,6.74-11.23,14.53-23.45,23.78-32.67v27.48h0Z" />
                        <path class="cls-255 cls-67"
                            d="M201.28,290.34c-.29,1.33-13.6,17.91-15.8,21.17-4.19,6.22-8.09,12.59-11.97,19l-23.19,45.76c7.53-30.49,21.24-59.67,37.56-86.35,3.94-6.44,8.14-13.85,13.4-19.07v19.49h0Z" />
                        <g>
                            <path class="cls-257" <path class="cls-255"
                                d="M143.34,435.76h-75.92v445.75h939v-197.89c-4.39,77.16-46.57,140.67-117.52,171.76-113.36,49.68-244.48,16.05-356.74-19.58-144.09-45.73-263.36-107.48-345.28-239.22-22.22-35.73-41.57-77.32-44.54-119.85h-71.42l-1.5-1.5v-35.98c1.52-1.78,3.23-2.26,5.47-2.52,18.69-2.18,48.65-.74,68.45-.98h0Z" />
                            <path
                                d="M888.9,855.38c-113.36,49.68-244.48,16.05-356.74-19.58-144.09-45.73-263.36-107.48-345.28-239.22-22.22-35.73-41.57-77.32-44.54-119.85h-71.42l-1.5-1.5v-35.98c1.52-1.78,3.23-2.26,5.47-2.52,18.69-2.18,48.65-.74,68.45-.98h584.38c1.04,1.66,3.79,1,5.48,1.02,58.76.73,117.68-.95,176.38.43l2.95,2.05v35.98l-1.5,1.5h-95.4l16.74,7.74c84.21,31.66,149.13,51.38,169.58,150.16l4.49,30.99v17.99c-4.39,77.16-46.57,140.67-117.52,171.76h-.02ZM814.62,782.56l-120.44,4.93-.48,2.51.98,82.07,54.46,5.48c21.97.35,44.01-.36,65.48-5.04v-89.95ZM690.76,786.56l-122.87-18.99v74.46c3.14,1.96,7.4,2.88,10.99,4,36.46,11.35,73.96,20.5,111.88,25.49v-84.95h0ZM997.14,722.81c16.03-67.87-3.52-153.33-65.97-191.27-19.94-12.11-43.91-22.35-65.6-30.8,8.86,6.34,18.19,11.95,26.87,18.58,40.78,31.16,88.54,90.81,79.74,145.54-10.3,64.1-92.37,110.17-152.06,116.71l-2.5,1.5v88.45c85.43-11.16,159-61.86,179.52-148.71h0ZM563.76,766.71c-42.81-10.53-84.42-24.98-125.73-40.11l-.55,70c41.15,18.33,83.94,32.97,127.4,44.93l-1.12-74.82ZM434.03,726.1c0-.25,1.04-.76,1-1.44-16.56-6.7-33.13-13.58-49.31-21.18-24.96-11.73-49.01-25.34-73.56-37.84v62.47c37.01,28.05,78.91,49.11,121.87,66.46v-68.46h0ZM815.62,696.61c-40.07,6.1-80.5,7.44-120.88,4l-.04,83.54,119.93-4.57.99-82.96h0ZM691.76,700.6l-61.43-3-63.44-7.99,1.11,74.86,122.77,19.09,1-82.96h-.01ZM906.5,580.42c14.42,29.62,13.2,71.6-14.48,93.18-7.35,5.73-24.28,10.53-33.67,13.28-12.98,3.81-26.24,7.15-39.72,8.74-.61,22.78.78,45.72.03,68.49-.08,2.58-.92,5.1-1.09,7.9-.12,2.03-.95,6.6,1.55,6.58,7.55-.06,24.67-5.12,32.68-7.32,77.56-21.29,147.77-88.81,104.19-173.64-26.74-52.06-82.54-97.17-138.37-113.91l88.88,96.68v.02ZM563.89,689.12l-125.87-35.48v68.46c40.51,17.64,83.13,30.29,125.87,41.48v-74.46ZM204.27,594.67v21.49c0,1.61,16.58,22.84,19.02,25.94,24.5,31.12,54.07,59.94,85.87,83.5v-62.96c-36.44-20.01-74.95-38.53-104.89-67.96h0ZM435.03,652.64c-41.17-12.7-82.33-25.76-121.86-42.98.03,2.54-.87,4.92-1.05,7.46-.73,10.43-1.22,32.1-.02,42.07.45,3.69,4.23,4.68,7.38,6.61,17.08,10.5,38.1,20.9,56.25,29.67,19.25,9.29,39.07,18.27,59.3,25.13v-67.96ZM694.75,697.62l51.49,2.04c23.04-1.77,46.28-2.22,68.95-6.97l-.54-79.55-46.72-13.22c-24.19,5.97-47.8,3.48-72.18.75l-1,96.96h0ZM691.76,600.67c-41.7-1.32-83.45-3.11-124.87-8v91.45c1.24,1.52,3.02,1.78,4.78,2.22,14.94,3.68,36.09,5.76,51.67,7.27,22.69,2.2,45.64,3.03,68.42,3v-95.95h0ZM881.82,675.39c31.58-13.48,37.79-63.04,22.22-90.69-22.84,22.08-51.89,33.88-83.96,29.21l-1.45,1.26v77.46c20.63-4.36,43.79-8.95,63.2-17.23h0ZM563.89,592.67l-124.87-16.99-.54,74c41.11,13.38,82.64,27.25,125.41,34.94v-91.95ZM204.27,558.69v30.48c28,31.84,68.92,49.26,104.89,70.46v-51.97l-104.89-48.97h0ZM435.03,574.68l-121.87-18.99v49.47c39.01,18.41,80.64,30.9,121.87,43.48v-73.96ZM822.87,513.96c6.88,25.45-2.61,62.11-27.21,75.24l-20.99,9.47c18.67,2.98,37.4,12.94,56.4,13.06,7,.05,17.47-1.23,24.35-2.72,17.73-3.83,32.11-14.91,45.65-26.31l-.02-3.01-88.42-94.95c2.84,9.68,7.61,19.52,10.24,29.23h0ZM185.48,570c-4.19-6.22-8.09-12.59-11.97-19l-23.19-45.76c7.53,30.49,21.24,59.67,37.56,86.35,3.94,6.44,8.14,13.85,13.4,19.07v-19.49c-.29-1.33-13.6-17.91-15.8-21.17h0ZM308.65,603.68l1.07-48.04-105.45-25.93v24.49l104.38,49.48h0ZM764.68,597.66c-3.36-4.69-8.26-8.13-11.96-12.51-25.57-30.26-34.02-69.46-28-108.41h-27.47l-1.5,1.5v119.43c23.16,2.64,45.86,5.27,68.93-.01ZM567.32,589.73l2.05.94c40.8,3.17,81.51,6.73,122.38,7l.99-120.94h-125.87l.44,113h.01ZM728.65,477.17l-.79,1.21c-4.31,32.74.38,64.33,18.42,92.21,2.78,4.3,18.37,23.82,22.11,24.91,6.36,1.85,30.52-10.76,35.73-15.83,11.82-11.51,19.82-38.22,18.36-54.34-.48-5.32-14.47-46.83-17.01-48.43l-76.83.27h.01ZM563.89,589.67l-1-112.94h-122.37l-1.5,1.5v94.45l124.87,16.99ZM165.34,519.19l-13.02-19.95c6.55,18.32,15.18,36.11,25.18,52.76,6.74,11.23,14.53,23.45,23.78,32.67v-27.48c-14.63-9.87-23.7-25.6-35.94-38ZM330.95,556.38c29.56,5.46,61.9,10.82,91.73,14.16,3.35.38,13.34,2.91,13.34-1.36v-92.45h-121.37l-1.5,1.5v73.96c.51,1.56,14.84,3.64,17.8,4.18h0ZM157.34,486.21l-9.01-6.97c1.49,4.3,3.23,8.72,5.14,12.84,8.54,18.42,25.88,40.24,40.29,54.63,2.28,2.27,4.95,4.07,7.52,5.97v-23.49l-43.94-42.99h0ZM310.16,476.73h-104.89v49.49c34.31,10.8,69.57,18.51,104.89,25.47v-74.96ZM151.33,476.73l49.95,47.97v-47.97h-49.95ZM142.34,440.75h-69.93v32.98h69.93v-32.98ZM202.28,440.75h-56.94l1,32.98h54.94l1-32.98ZM310.16,440.75h-104.89v32.98h104.89v-32.98ZM436.03,440.75h-121.87l-1,32.98h122.87v-32.98ZM562.89,440.75h-122.87l-1,32.98h123.87v-32.98ZM692.75,440.75h-125.87v32.98h125.87v-32.98ZM725.72,440.75h-28.97l-1,32.98h29.97v-32.98ZM805.63,440.75h-76.92v32.98h76.92v-32.98ZM909.52,440.75h-100.89v32.98h100.89v-32.98Z" />
                            <path class="cls-257"
                                d="M1006.42,665.63v-229.87h-278.7c1.04,1.66,3.79,1,5.48,1.02,58.76.73,117.68-.95,176.38.43l2.95,2.05v35.98l-1.5,1.5h-95.4l16.74,7.74c84.21,31.66,149.13,51.38,169.58,150.16l4.49,30.99h-.02Z" />
                            <path class="cls-255 cls-62"
                                d="M817.62,871.51c85.43-11.16,159-61.86,179.52-148.71,16.03-67.87-3.52-153.33-65.97-191.27-19.94-12.11-43.91-22.35-65.6-30.8,8.86,6.34,18.19,11.95,26.87,18.58,40.78,31.16,88.54,90.81,79.74,145.54-10.3,64.1-92.37,110.17-152.06,116.71l-2.5,1.5v88.45Z" />
                            <path class="cls-255 cls-56"
                                d="M817.62,483.74l88.88,96.68c14.42,29.62,13.2,71.6-14.48,93.18-7.35,5.73-24.28,10.53-33.67,13.28-12.98,3.81-26.24,7.15-39.72,8.74-.61,22.78.78,45.72.03,68.49-.08,2.58-.92,5.1-1.09,7.9-.12,2.03-.95,6.6,1.55,6.58,7.55-.06,24.67-5.12,32.68-7.32,77.56-21.29,147.77-88.81,104.19-173.64-26.74-52.06-82.54-97.17-138.37-113.91v.02Z" />
                            <path class="cls-255 cls-42"
                                d="M566.89,476.73l.44,113,2.05.94c40.8,3.17,81.51,6.73,122.38,7l.99-120.94h-125.87.01Z" />
                            <polygon class="cls-255 cls-41"
                                points="439.02 572.68 563.89 589.67 562.89 476.73 440.52 476.73 439.02 478.23 439.02 572.68" />
                            <path class="cls-255 cls-48"
                                d="M691.76,696.61v-95.95c-41.7-1.32-83.45-3.11-124.87-8v91.45c1.24,1.52,3.02,1.78,4.78,2.22,14.94,3.68,36.09,5.76,51.67,7.27,22.69,2.2,45.64,3.03,68.42,3h0Z" />
                            <path class="cls-255 cls-49"
                                d="M695.75,600.66l-1,96.96,51.49,2.04c23.04-1.77,46.28-2.22,68.95-6.97l-.54-79.55-46.72-13.22c-24.19,5.97-47.8,3.48-72.18.75h0Z" />
                            <path class="cls-255 cls-61"
                                d="M814.62,872.51v-89.95l-120.44,4.93-.48,2.51.98,82.07,54.46,5.48c21.97.35,44.01-.36,65.48-5.04Z" />
                            <path class="cls-255 cls-40"
                                d="M313.16,552.19c.51,1.56,14.84,3.64,17.8,4.18,29.56,5.46,61.9,10.82,91.73,14.16,3.35.38,13.34,2.91,13.34-1.36v-92.45h-121.37l-1.5,1.5v73.96h0Z" />
                            <path class="cls-255 cls-47"
                                d="M563.89,684.62v-91.95l-124.87-16.99-.54,74c41.11,13.38,82.64,27.25,125.41,34.94Z" />
                            <path class="cls-255 cls-60"
                                d="M690.76,871.51v-84.95l-122.87-18.99v74.46c3.14,1.96,7.4,2.88,10.99,4,36.46,11.35,73.96,20.5,111.88,25.49h0Z" />
                            <path class="cls-255 cls-55"
                                d="M814.63,779.57l.99-82.96c-40.07,6.1-80.5,7.44-120.88,4l-.04,83.54,119.93-4.57h0Z" />
                            <polygon class="cls-255 cls-54"
                                points="690.76 783.57 691.76 700.6 630.33 697.6 566.88 689.61 567.99 764.47 690.76 783.57" />
                            <path class="cls-255 cls-59"
                                d="M564.89,841.53l-1.12-74.82c-42.81-10.53-84.42-24.98-125.73-40.11l-.55,70c41.15,18.33,83.94,32.97,127.4,44.93Z" />
                            <path class="cls-255 cls-53"
                                d="M563.89,763.57v-74.46l-125.87-35.48v68.46c40.51,17.64,83.13,30.29,125.87,41.48Z" />
                            <path class="cls-255 cls-43"
                                d="M805.48,476.9l-76.83.27-.79,1.21c-4.31,32.74.38,64.33,18.42,92.21,2.78,4.3,18.37,23.82,22.11,24.91,6.36,1.85,30.52-10.76,35.73-15.83,11.82-11.51,19.82-38.22,18.36-54.34-.48-5.32-14.47-46.83-17.01-48.43h.01Z" />
                            <path class="cls-255 cls-58"
                                d="M434.03,794.56v-68.46c0-.25,1.04-.76,1-1.44-16.56-6.7-33.13-13.58-49.31-21.18-24.96-11.73-49.01-25.34-73.56-37.84v62.47c37.01,28.05,78.91,49.11,121.87,66.46h0Z" />
                            <path class="cls-255 cls-46"
                                d="M435.03,648.64v-73.96l-121.87-18.99v49.47c39.01,18.41,80.64,30.9,121.87,43.48Z" />
                            <path class="cls-255 cls-52"
                                d="M435.03,720.6v-67.96c-41.17-12.7-82.33-25.76-121.86-42.98.03,2.54-.87,4.92-1.05,7.46-.73,10.43-1.22,32.1-.02,42.07.45,3.69,4.23,4.68,7.38,6.61,17.08,10.5,38.1,20.9,56.25,29.67,19.25,9.29,39.07,18.27,59.3,25.13Z" />
                            <path class="cls-255 cls-39"
                                d="M310.16,551.69v-74.96h-104.89v49.49c34.31,10.8,69.57,18.51,104.89,25.47Z" />
                            <path class="cls-255 cls-50"
                                d="M818.62,692.61c20.63-4.36,43.79-8.95,63.2-17.23,31.58-13.48,37.79-63.04,22.22-90.69-22.84,22.08-51.89,33.88-83.96,29.21l-1.45,1.26v77.46h0Z" />
                            <path class="cls-255 cls-44"
                                d="M812.64,484.73c2.84,9.68,7.61,19.52,10.24,29.23,6.88,25.45-2.61,62.11-27.21,75.24l-20.99,9.47c18.67,2.98,37.4,12.94,56.4,13.06,7,.05,17.47-1.23,24.35-2.72,17.73-3.83,32.11-14.91,45.65-26.31l-.02-3.01-88.42-94.95h0Z" />
                            <path class="cls-255 cls-51"
                                d="M309.16,607.66l-104.89-48.97v30.48c28,31.84,68.92,49.26,104.89,70.46v-51.97h0Z" />
                            <path class="cls-255 cls-57"
                                d="M309.16,662.63c-36.44-20.01-74.95-38.53-104.89-67.96v21.49c0,1.61,16.58,22.84,19.02,25.94,24.5,31.12,54.07,59.94,85.87,83.5v-62.96h0Z" />
                            <path class="cls-255"
                                d="M695.75,597.67c23.16,2.64,45.86,5.27,68.93-.01-3.36-4.69-8.26-8.13-11.96-12.51-25.57-30.26-34.02-69.46-28-108.41h-27.47l-1.5,1.5v119.43Z" />
                            <rect class="cls-255 cls-36" x="566.89" y="440.75" width="125.87" height="32.98" />
                            <polygon class="cls-255 cls-35"
                                points="562.89 473.74 562.89 440.75 440.02 440.75 439.02 473.74 562.89 473.74" />
                            <polygon class="cls-255 cls-34"
                                points="436.03 473.74 436.03 440.75 314.16 440.75 313.16 473.74 436.03 473.74" />
                            <polygon class="cls-255 cls-45"
                                points="204.27 554.19 308.65 603.68 309.72 555.63 204.27 529.7 204.27 554.19" />
                            <rect class="cls-255 cls-33" x="205.27" y="440.75" width="104.89" height="32.98" />
                            <rect class="cls-255 cls-38" x="808.63" y="440.75" width="100.89" height="32.98" />
                            <rect class="cls-255 cls-37" x="728.72" y="440.75" width="76.92" height="32.98" />
                            <polygon class="cls-255 cls-32"
                                points="201.28 473.74 202.28 440.75 145.34 440.75 146.34 473.74 201.28 473.74" />
                            <polygon class="cls-255 cls-66"
                                points="201.28 476.73 151.33 476.73 201.28 524.71 201.28 476.73" />
                            <path class="cls-255 cls-68"
                                d="M201.28,529.2l-43.94-42.99-9.01-6.97c1.49,4.3,3.23,8.72,5.14,12.84,8.54,18.42,25.88,40.24,40.29,54.63,2.28,2.27,4.95,4.07,7.52,5.97v-23.49h0Z" />
                            <polygon class="cls-255"
                                points="725.72 473.74 725.72 440.75 696.75 440.75 695.75 473.74 725.72 473.74" />
                            <path class="cls-255 cls-68"
                                d="M201.28,557.19c-14.63-9.87-23.7-25.6-35.94-38l-13.02-19.95c6.55,18.32,15.18,36.11,25.18,52.76,6.74,11.23,14.53,23.45,23.78,32.67v-27.48Z" />
                            <path class="cls-255 cls-68"
                                d="M201.28,591.17c-.29-1.33-13.6-17.91-15.8-21.17-4.19-6.22-8.09-12.59-11.97-19l-23.19-45.76c7.53,30.49,21.24,59.67,37.56,86.35,3.94,6.44,8.14,13.85,13.4,19.07v-19.49h0Z" />
                        </g>
                        <rect class="cls-256 cls-71" x="911.05" y="406.77" width="100.89" height="32.98" />
                        <rect class="cls-256 cls-72" x="911.05" y="441.75" width="100.89" height="32.98" />
                        <rect class="cls-256 cls-69" x="1" y="406.18" width="69.93" height="32.98" />
                        <rect class="cls-256 cls-70" x="1" y="440.75" width="69.93" height="32.98" />
                    </svg>
                    <div class="area-status">
                        <div class="item">
                            <div class="cirle"></div>
                            <div class="status">待检</div>
                        </div>
                        <div class="item">
                            <div class="cirle"></div>
                            <div class="status">低关注</div>
                        </div>
                        <div class="item">
                            <div class="cirle"></div>
                            <div class="status">中关注</div>
                        </div>
                        <div class="item">
                            <div class="cirle"></div>
                            <div class="status">高关注</div>
                        </div>
                    </div>
                </div>
                <div class="right">
                    <div class="inspect-area">待检区域</div>
                    <div class="right-list"> </div>
                </div>

            </div>
        </div>

        <div class="bottom-section">
            <div class="recent-screenshot">
                <div class="recent-title">
                    <img src="../image/stomachCheck/screenshot.png" width="48" height="48" alt="">
                    <span>最近截图</span>
                </div>
                <div class="img-box">
                    <img class="small-placeholder"> </img>
                </div>
            </div>

            <div class="status-detection">
                <div class="status-title">
                <img src="../image/stomachCheck/status.png" width="48" height="48" alt="">
                    <span>状态检测</span>
                </div>
                <div class="status-box">
                    <img class="status-item" src="../image/stomachCheck/instrument.png" width="181" height="232" alt="">
                </div>
            </div>
        </div>
    </div>

</body>
<script>
    let oldData = []

    let GASTRIC_REGION_DICT = {
        0: "食管",
        1: "食管胃结合部",
        2: "胃底穹隆",
        3: "贲门、贲门小弯",
        4: "胃体上部后壁",
        5: "胃体上部小弯",
        6: "胃体上部大弯",
        7: "胃体上部前壁",
        8: "胃体中部后壁",
        9: "胃体中部小弯",
        10: "胃体中部大弯",
        11: "胃体中部前壁",
        12: "胃体下部后壁",
        13: "胃体下部大弯",
        14: "胃体下部前壁",
        15: "胃体下部小弯",
        16: "胃角",
        17: "胃窦大弯",
        18: "胃窦小弯",
        19: "胃窦前壁",
        20: "胃窦后壁",
        21: "幽门",
        22: "十二指肠球部",
        23: "十二指肠降部",
    }
    const wsClient = createWebSocketClient({
        url: '/',
    });
    // 检查时间
    let examinationTotalDuration = document.querySelector('.examinationTotalDuration')
    // 最近截图
    let smallPlaceholder = document.querySelector('.small-placeholder')
    // let img = document.querySelector('.img-box'); // 截图
    let stomachSvg = document.querySelector('#stomach-svg')
    // 器械出现
    let statusItem = document.querySelector('.status-item')
    wsClient.on('message', (data) => {
        if (!isJSON(data)) return
        let result = JSON.parse(data)
        if (result.messageType == 1002) return
        console.log("result===>", result);
        examinationTotalDuration.innerHTML = result.examinationTotalDuration || '00:00:00'
        if (result.ldImagePath) {
            smallPlaceholder.src = 'http://127.0.0.1:8080/scopeai_data/' + result.ldImagePath
            // img.style.backgroundColor = '#000000'
        }
        statusItem.style.display = result.isSurgicalInstrumentUsed === 1 ? 'block' : 'none';
        let areaLevels = getAreaLevels(result.regionAttentionLevels)
        // isChangeColor(result.regionAttentionLevels)


        isRenderArea(areaLevels, stomachSvg)
        let unexaminedRegionsArr = result?.unexaminedRegions?.split(',')
        // 处理未检查区域
        if (unexaminedRegionsArr && Array.isArray(unexaminedRegionsArr) && unexaminedRegionsArr.length <= 6) {
            let rightList = document.querySelector('.right-list')
            rightList.innerHTML = ''
            unexaminedRegionsArr.forEach(regionId => {
                const regionName = GASTRIC_REGION_DICT[regionId];
                if (regionName) {
                    const listItem = document.createElement('div');
                    listItem.className = 'list-item';
                    listItem.textContent = regionName;
                    rightList.appendChild(listItem);
                }
            });
        }

    })
    // 数据是否变化
    function isDataEqaual(newArr) {
        if (!Array.isArray(newArr)) return false;
        if (!oldData) {
            oldData = [...newArr];
            return false;
        }
        const isEqual = newArr.length === oldData.length &&
            newArr.every((val, idx) => val === oldData[idx]);
        oldData = [...newArr];
        return isEqual;
    }

    function isChangeColor(arr) {
        if (!isDataEqaual(arr)) {
            console.log('发生了变化');
            for (let repeat = 0; repeat < 3; repeat++) {
                // 显示颜色
                setTimeout(() => {
                    arr?.forEach((x, i) => {
                        let region = stomachSvg.querySelector(`.cls-${i}`)
                        if (region) region.style.fill = stomachColor[x] || '#fff'
                    })
                }, repeat * 500)

                // 清除颜色（闪烁效果），但第三次不清除
                if (repeat < 2) {
                    setTimeout(() => {
                        arr?.forEach((x, i) => {
                            let region = stomachSvg.querySelector(`.cls-${i}`)
                            if (region) region.style.fill = ''
                        })

                    }, repeat * 500 + 250)
                }
            }

        } else {
        }
    }
    InteractionLock.disable()
    // InteractionLock.enable()

</script>

</html>